<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Claim Acknowledgment Template -->
        <record id="email_template_claim_acknowledgment" model="mail.template">
            <field name="name">Claim Acknowledgment</field>
            <field name="model_id" ref="model_claim_claim"/>
            <field name="subject">Claim Acknowledgment - ${object.name}</field>
            <field name="email_from">${(object.company_id.email_formatted or user.email_formatted) | safe}</field>
            <field name="email_to">${object.claimant_id.email_formatted or ''}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; background-color: #F1F1F1;">
                    <table cellspacing="0" cellpadding="0" style="width:100%; margin: 0; padding: 20px; background-color: #FFFFFF; border-collapse:separate;">
                        <tr>
                            <td align="center">
                                <h2 style="color: #454748;">Claim Acknowledgment</h2>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 20px;">
                                <p>Dear ${object.claimant_id.name or ''},</p>
                                <p>We confirm the receipt of your claim with reference: <strong>${object.name or ''}</strong></p>
                                <div style="margin: 16px 0px 16px 0px; padding: 8px;">
                                    <table style="width: 100%;">
                                        <tr>
                                            <td style="width: 30%;"><strong>Date:</strong></td>
                                            <td>${format_date(object.date) or ''}</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Subject:</strong></td>
                                            <td>${object.subject or ''}</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Type:</strong></td>
                                            <td>${dict(object._fields['type'].selection).get(object.type) or ''}</td>
                                        </tr>
                                    </table>
                                </div>
                                <p>We will process your claim as soon as possible.</p>
                                <p style="margin-top: 28px;">Best regards,<br/>${object.agency_id.name or user.company_id.name or ''}</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </field>
            <field name="report_template" ref="claim_management.action_report_claim_acknowledgment"/>
            <field name="report_name">Claim_Acknowledgment_${(object.name or '').replace('/','_')}</field>
            <field name="lang">${object.claimant_id.lang or user.lang}</field>
            <field name="auto_delete" eval="True"/>
        </record>

        <!-- Claim Status Update Template -->
        <record id="email_template_claim_status_update" model="mail.template">
            <field name="name">Claim Status Update</field>
            <field name="model_id" ref="model_claim_claim"/>
            <field name="subject">Claim ${object.name} - Status Update</field>
            <field name="email_from">${(object.company_id.email_formatted or user.email_formatted) | safe}</field>
            <field name="email_to">${object.claimant_id.email_formatted or ''}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; background-color: #F1F1F1;">
                    <table cellspacing="0" cellpadding="0" style="width:100%; margin: 0; padding: 20px; background-color: #FFFFFF; border-collapse:separate;">
                        <tr>
                            <td style="padding: 20px;">
                                <p>Dear ${object.claimant_id.name or ''},</p>
                                <p>Your claim (${object.name}) has been updated.</p>
                                <p>New status: <strong>${dict(object._fields['state'].selection).get(object.state) or ''}</strong></p>
                                % if object.state == 'in_progress':
                                <p>Your claim is now being processed by our team.</p>
                                % elif object.state == 'resolved':
                                <p>Your claim has been resolved. Please provide your feedback through our satisfaction survey.</p>
                                % elif object.state == 'closed':
                                <p>Your claim has been closed. Thank you for your feedback.</p>
                                % endif
                                <p style="margin-top: 28px;">Best regards,<br/>${object.agency_id.name or user.company_id.name or ''}</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </field>
            <field name="lang">${object.claimant_id.lang or user.lang}</field>
            <field name="auto_delete" eval="True"/>
        </record>
    </data>
</odoo>
